<div class="container" style="margin-top: 4rem">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card shadow-lg p-3 mb-5 bg-white rounded">
        <div class="card-body">
          <div *ngIf="this.id === undefined">
            <h5 class="card-title text-center mb-4">Agregar Nueva Actividad</h5>
            <form (submit)="onSubmit()" #form="ngForm">
              <!-- Nombre de la Actividad -->
              <div class="form-group">
                <label for="nombre">Nombre de la Actividad</label>
                <textarea
                  name="nombre"
                  id="nombre"
                  class="form-control"
                  type="text"
                  placeholder="Prueba I"
                  [(ngModel)]="actividad.nombre"
                  required
                  #nombre="ngModel"
                ></textarea>
                <div
                  *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)"
                  class="alert alert-danger mt-2"
                >
                  Debe escribir un nombre para la actividad
                </div>
              </div>
              <!-- Tipo de Actividad -->
              <div class="form-group">
                <label for="tipo">Tipo de Actividad</label>
                <select
                  name="tipo"
                  id="tipo"
                  class="form-control"
                  [(ngModel)]="actividad.tipo"
                  required
                  #tipo="ngModel"
                >
                  <option value="Parcial I">Parcial I</option>
                  <option value="Parcial II">Parcial II</option>
                  <option value="Final">Final</option>
                  <option value="Actividad">Actividad</option>
                  <option value="Proyecto">Proyecto</option>
                </select>
                <div
                  *ngIf="tipo.invalid && (tipo.dirty || tipo.touched)"
                  class="alert alert-danger mt-2"
                >
                  Debe seleccionar un tipo de Actividad
                </div>
              </div>
              <!-- Nota -->
              <div class="form-group">
                <label for="nota">Nota</label>
                <input
                  name="nota"
                  id="nota"
                  class="form-control"
                  type="number"
                  step="0.01"
                  placeholder="12.05"
                  [(ngModel)]="actividad.nota"
                  required
                  #nota="ngModel"
                />
                <small class="form-text text-muted"
                  >Se sugiere una nota entre 0 y 15</small
                >
                <div
                  *ngIf="nota.invalid && (nota.dirty || nota.touched)"
                  class="alert alert-danger mt-2"
                >
                  Debe ingresar una nota
                </div>
              </div>
              <!-- Estado -->
              <div class="form-group">
                <label for="estado">Estado</label>
                <select
                  name="estado"
                  id="estado"
                  class="form-control"
                  [(ngModel)]="actividad.estado"
                  required
                  #estado="ngModel"
                >
                  <option value="realizada">Realizada</option>
                  <option value="pendiente">Pendiente</option>
                </select>
                <div
                  *ngIf="estado.invalid && (estado.dirty || estado.touched)"
                  class="alert alert-danger mt-2"
                >
                  Debe seleccionar un estado para la actividad
                </div>
              </div>
              <!-- Fecha de Calificación -->
              <div class="form-group">
                <label for="fechaEntrega">Fecha de Calificación</label>
                <input
                  name="fechaEntrega"
                  id="fechaEntrega"
                  class="form-control"
                  type="datetime-local"
                  [(ngModel)]="actividad.fechaEntrega"
                  required
                  #fechaEntrega="ngModel"
                />
                <div
                  *ngIf="
                    fechaEntrega.invalid &&
                    (fechaEntrega.dirty || fechaEntrega.touched)
                  "
                  class="alert alert-danger mt-2"
                >
                  Debe ingresar una fecha de calificación
                </div>
              </div>
              <!-- Materia -->
              <div class="form-group">
                <label for="nombreMateria">Materia a la que pertenece</label>
                <select
                  name="nombreMateria"
                  id="nombreMateria"
                  class="form-control"
                  [(ngModel)]="actividad.materia"
                  required
                  #nombreMateria="ngModel"
                >
                  <option
                    *ngFor="let materia of nombreMaterias"
                    [value]="materia"
                  >
                    {{ materia }}
                  </option>
                </select>
                <div
                  *ngIf="
                    nombreMateria.invalid &&
                    (nombreMateria.dirty || nombreMateria.touched)
                  "
                  class="alert alert-danger mt-2"
                >
                  Debe seleccionar una materia para la actividad
                </div>
              </div>
              <!-- Botón de enviar depende -->
              <button
                type="submit"
                class="btn btn-second btn-block mt-4"
                [disabled]="form.invalid"
              >
                Agregar Actividad
              </button>
            </form>
          </div>
          <!-- _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-AQUI CAMBIAN LOS FORMULARIOS _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_--->
          <!-- Editar -->
          <div *ngIf="this.id !== undefined">
            <h5 class="card-title text-center mb-4">Actualizar Actividad</h5>
            <form (submit)="onUpdate()" #form="ngForm">
              <!-- Mostrando Id -->
              <div class="form-group">
                <label for="nombre">Id de la actividad</label>
                <input
                  disabled
                  name="id"
                  id="id"
                  class="form-control"
                  type="text"
                  [(ngModel)]="actividad.id"
                />
              </div>
              <!-- Nombre de la Actividad -->
              <div class="form-group">
                <label for="nombre">Nombre de la Actividad</label>
                <textarea
                  name="nombre"
                  id="nombre"
                  class="form-control"
                  type="text"
                  placeholder="Prueba I"
                  [(ngModel)]="actividad.nombre"
                  required
                  #nombre="ngModel"
                ></textarea>
                <div
                  *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)"
                  class="alert alert-danger mt-2"
                >
                  Debe escribir un nombre para la actividad
                </div>
              </div>
              <!-- Tipo de Actividad -->
              <div class="form-group">
                <label for="tipo">Tipo de Actividad</label>
                <select
                  name="tipo"
                  id="tipo"
                  class="form-control"
                  [(ngModel)]="actividad.tipo"
                  required
                  #tipo="ngModel"
                >
                  <option value="Parcial I">Parcial I</option>
                  <option value="Parcial II">Parcial II</option>
                  <option value="Final">Final</option>
                  <option value="Actividad">Actividad</option>
                  <option value="Proyecto">Proyecto</option>
                </select>
                <div
                  *ngIf="tipo.invalid && (tipo.dirty || tipo.touched)"
                  class="alert alert-danger mt-2"
                >
                  Debe seleccionar un tipo de Actividad
                </div>
              </div>
              <!-- Nota -->
              <div class="form-group">
                <label for="nota">Nota</label>
                <input
                  name="nota"
                  id="nota"
                  class="form-control"
                  type="number"
                  step="0.01"
                  placeholder="12.05"
                  [(ngModel)]="actividad.nota"
                  required
                  #nota="ngModel"
                />
                <small class="form-text text-muted"
                  >Se sugiere una nota entre 0 y 15</small
                >
                <div
                  *ngIf="nota.invalid && (nota.dirty || nota.touched)"
                  class="alert alert-danger mt-2"
                >
                  Debe ingresar una nota
                </div>
              </div>
              <!-- Estado -->
              <div class="form-group">
                <label for="estado">Estado</label>
                <select
                  name="estado"
                  id="estado"
                  class="form-control"
                  [(ngModel)]="actividad.estado"
                  required
                  #estado="ngModel"
                >
                  <option value="realizada">Realizada</option>
                  <option value="pendiente">Pendiente</option>
                </select>
                <div
                  *ngIf="estado.invalid && (estado.dirty || estado.touched)"
                  class="alert alert-danger mt-2"
                >
                  Debe seleccionar un estado para la actividad
                </div>
              </div>
              <!-- Fecha de Calificación -->
              <div class="form-group">
                <label for="fechaEntrega">Fecha de Calificación</label>
                <input
                  name="fechaEntrega"
                  id="fechaEntrega"
                  class="form-control"
                  type="datetime-local"
                  [(ngModel)]="actividad.fechaEntrega"
                  required
                  #fechaEntrega="ngModel"
                />
                <div
                  *ngIf="
                    fechaEntrega.invalid &&
                    (fechaEntrega.dirty || fechaEntrega.touched)
                  "
                  class="alert alert-danger mt-2"
                >
                  Debe ingresar una fecha de calificación
                </div>
              </div>
              <!-- Materia -->
              <div class="form-group">
                <label for="nombreMateria">Materia a la que pertenece</label>
                <select
                  name="nombreMateria"
                  id="nombreMateria"
                  class="form-control"
                  [(ngModel)]="actividad.materia"
                  required
                  #nombreMateria="ngModel"
                >
                  <option
                    *ngFor="let materia of nombreMaterias"
                    [value]="materia"
                  >
                    {{ materia }}
                  </option>
                </select>
                <div
                  *ngIf="
                    nombreMateria.invalid &&
                    (nombreMateria.dirty || nombreMateria.touched)
                  "
                  class="alert alert-danger mt-2"
                >
                  Debe seleccionar una materia para la actividad
                </div>
              </div>
              <!-- Botón de enviar depende -->
              <button
                type="submit"
                class="btn btn-secondary btn-block mt-4"
                [disabled]="form.invalid"
              >
                Actualizar Actividad
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
